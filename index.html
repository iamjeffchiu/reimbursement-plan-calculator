<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reimbursement Plan — Currency Change Calculator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Reimbursement Plan — Currency Change Calculator</h1>
      <p class="lead">New submitted amount = <span class="mono">reimbursed (old ccy)</span> + <span class="mono">unreimbursed (new ccy)</span></p>
    </header>

    <section class="card">
      <div class="grid grid-2">
        <div class="row row-2">
          <div>
            <label for="oldCcy">Old currency code</label>
            <input id="oldCcy" placeholder="e.g., USD" value="" />
          </div>
          <div>
            <label for="newCcy">New currency code</label>
            <input id="newCcy" placeholder="e.g., TWD" value="" />
          </div>
        </div>

        <div class="row row-2">
          <div>
            <label for="originalOld">Original submitted (old currency)</label>
            <input id="originalOld" type="number" step="0.01" value="" />
          </div>
          <div>
            <label for="reimbursedOld">Reimbursed to date (old currency)</label>
            <input id="reimbursedOld" type="number" step="0.01" value="" />
          </div>
        </div>

        <div class="row row-2">
          <div>
            <label for="fx">FX rate (1 old = ? new)</label>
            <input id="fx" type="number" step="0.0001" value="" />
          </div>
          <div>
            <label for="decimals">Decimal places</label>
            <input id="decimals" type="number" step="1" value="" placeholder="e.g., 2 for USD, 0 for TWD/JPY" />
          </div>
        </div>

        <div class="row row-2">
          <div>
            <label>&nbsp;</label>
            <div class="inline">
              <button id="btnCalc" class="btn btn-primary"><span id="calcBtnText">Calculate</span></button>
              <button id="btnReset" class="btn">Reset</button>
            </div>
            <div id="fxError" class="err"></div>
            <div class="hint">FX is fetched automatically on Calculate when the currency pair changes. If providers are blocked by your network, enter FX manually.</div>
          </div>
          <div></div>
        </div>
      </div>
    </section>

    <section class="card" style="margin-top:16px;">
      <div class="grid grid-2">
        <div class="stat">
          <div class="label">Remaining (old currency)</div>
          <div class="value"><span id="remainingOld">—</span></div>
        </div>
        <div class="stat">
          <div class="label">Remaining (converted to new)</div>
          <div class="value"><span id="remainingNew">—</span></div>
        </div>
      </div>

      <div class="stat" style="margin-top:16px;">
        <div class="label">System formula (Hybrid Total)</div>
        <div class="value"><span id="hybridTotal">—</span> <span class="muted mono" id="hybridTag"></span></div>
        <div class="muted" style="margin-top:6px;">Set this as the new <span class="mono">Submitted Amount</span> to keep future reimbursements in <span id="ccyNewText">NEW</span> while preserving already reimbursed <span id="ccyOldText">OLD</span>.</div>
      </div>
    </section>

    <section class="card" style="margin-top:16px;">
      <div class="desc-title">Description</div>
      <p id="descText" class="muted" style="margin-top:8px;">—</p>
    </section>

    <footer>
      <p>Notes: <span class="mono">remaining = original − reimbursed</span> (old ccy). FX is treated as a fixed rate at the time of conversion. Change rounding via "Decimal places".</p>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
